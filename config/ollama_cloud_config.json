{
  "mistral_direct": {
    "enabled": true,
    "api_base": "https://api.mistral.ai/v1",
    "models": {
      "mistral-large-latest": "Deep analysis, threat assessment, security audits",
      "ministral-8b-latest": "Fast triage, quick classification",
      "devstral-small-latest": "Code generation, remediation scripts",
      "pixtral-12b-2409": "Visual analysis, screenshot inspection",
      "codestral-latest": "Code-focused tasks"
    },
    "notes": "When a Mistral API key is stored in the OS keychain, SecurityPrime uses api.mistral.ai directly. No Ollama required."
  },
  "ollama_cloud": {
    "enabled": true,
    "api_key": "",
    "api_key_env": "OLLAMA_CLOUD_API_KEY",
    "base_url": "https://ollama.com",
    "timeout": 300,
    "max_retries": 3,
    "retry_delay": 2.0,
    "cost_limits": {
      "max_cost_per_request": 0.1,
      "max_daily_cost": 5.0,
      "currency": "USD"
    },
    "usage_tracking": {
      "enabled": true,
      "track_requests": true,
      "track_costs": true,
      "track_performance": true
    }
  },
  "cloud_models": {
    "mistral-large-3": {
      "enabled": true,
      "priority": 1,
      "description": "General-purpose production model for rich security analysis",
      "sizes": [
        "675b"
      ],
      "best_for": [
        "general_purpose",
        "security_analysis",
        "threat_analysis",
        "production"
      ],
      "special_features": [
        "cloud"
      ],
      "default_size": "675b"
    },
    "devstral-small-2": {
      "enabled": true,
      "priority": 2,
      "description": "Tool-using Mistral-family model for coding and remediation suggestions",
      "sizes": [
        "24b"
      ],
      "best_for": [
        "coding",
        "security_scripting",
        "agentic_tasks",
        "tools"
      ],
      "special_features": [
        "tools",
        "cloud"
      ],
      "default_size": "24b"
    },
    "ministral": {
      "enabled": true,
      "priority": 3,
      "description": "Fast lightweight Mistral-family model for quick triage",
      "sizes": [
        "8b"
      ],
      "best_for": [
        "efficient",
        "simple_questions",
        "triage"
      ],
      "special_features": [
        "cloud"
      ],
      "default_size": "8b"
    },
    "pixtral": {
      "enabled": true,
      "priority": 4,
      "description": "Mistral-family multimodal model for image-based investigation",
      "sizes": [
        "12b"
      ],
      "best_for": [
        "vision",
        "multimodal",
        "security_analysis"
      ],
      "special_features": [
        "vision",
        "cloud"
      ],
      "default_size": "12b"
    }
  },
  "routing_strategy": {
    "default_mode": "cloud",
    "auto_fallback": true,
    "performance_based_routing": true,
    "cost_optimization": true,
    "task_classification": {
      "simple_questions": {
        "preferred": "cloud",
        "fallback": "local",
        "max_tokens": 1024,
        "model": "ministral:8b"
      },
      "security_analysis": {
        "preferred": "cloud",
        "fallback": "local",
        "max_tokens": 4096,
        "model": "mistral-large-3:675b"
      },
      "threat_detection": {
        "preferred": "cloud",
        "fallback": "local",
        "max_tokens": 4096,
        "model": "mistral-large-3:675b"
      },
      "coding_tasks": {
        "preferred": "cloud",
        "fallback": "local",
        "max_tokens": 4096,
        "model": "devstral-small-2:24b"
      }
    }
  },
  "local_models": {
    "mistral:7b": {
      "enabled": true,
      "priority": 1,
      "connector": "mistral",
      "description": "Local Mistral model for offline fallback"
    },
    "mixtral:8x7b": {
      "enabled": true,
      "priority": 2,
      "connector": "mixtral",
      "description": "Local Mixtral model for heavier fallback analysis"
    }
  },
  "performance_tracking": {
    "enabled": true,
    "track_response_times": true,
    "track_success_rates": true,
    "track_costs": true,
    "retention_days": 30
  },
  "security": {
    "api_key_encryption": true,
    "request_logging": true,
    "response_logging": false,
    "data_retention": {
      "prompts": false,
      "responses": false,
      "metadata": true
    }
  }
}
