/* Cyber Security Prime - Mistral Edition */
/* Retro-inspired aesthetic honoring the Mistral AI brand */

@import url('https://fonts.googleapis.com/css2?family=Rajdhani:wght@300;400;500;600;700&family=Orbitron:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600&family=Space+Grotesk:wght@300;400;500;600;700&family=Press+Start+2P&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
	:root {
		--background: 30 15% 4%;
		--foreground: 40 20% 93%;
		--card: 28 12% 7%;
		--card-foreground: 40 20% 93%;
		--popover: 28 12% 7%;
		--popover-foreground: 40 20% 93%;
		--primary: 30 100% 50%;
		--primary-foreground: 30 15% 4%;
		--secondary: 24 100% 55%;
		--secondary-foreground: 0 0% 100%;
		--muted: 28 10% 14%;
		--muted-foreground: 35 12% 55%;
		--accent: 24 100% 55%;
		--accent-foreground: 0 0% 100%;
		--destructive: 350 100% 44%;
		--destructive-foreground: 0 0% 100%;
		--border: 30 10% 18%;
		--input: 30 10% 18%;
		--ring: 30 100% 50%;
		--radius: 0.5rem;

		/* Mistral brand colors */
		--mistral-red: 0 100% 44%;
		--mistral-orange-dark: 17 96% 52%;
		--mistral-orange: 30 100% 51%;
		--mistral-orange-light: 41 100% 50%;
		--mistral-yellow: 51 100% 50%;
		--mistral-beige: 43 100% 96%;
		--mistral-beige-mid: 41 100% 88%;
	}

	.light {
		--background: 43 100% 96%;
		--foreground: 30 15% 8%;
		--card: 41 100% 93%;
		--card-foreground: 30 15% 8%;
		--popover: 43 100% 96%;
		--popover-foreground: 30 15% 8%;
		--primary: 30 100% 50%;
		--primary-foreground: 0 0% 100%;
		--secondary: 24 95% 55%;
		--secondary-foreground: 0 0% 100%;
		--muted: 38 20% 88%;
		--muted-foreground: 30 10% 40%;
		--accent: 24 95% 55%;
		--accent-foreground: 0 0% 100%;
		--destructive: 350 100% 44%;
		--destructive-foreground: 0 0% 100%;
		--border: 35 15% 82%;
		--input: 35 15% 82%;
		--ring: 30 100% 50%;
	}
}

@layer base {
	* {
		@apply border-border;
	}

	body {
		@apply bg-background text-foreground;
		font-family: 'Space Grotesk', 'Rajdhani', system-ui, sans-serif;
		font-feature-settings: "rlig" 1, "calt" 1;
	}

	/* Retro grain texture overlay */
	body::after {
		content: '';
		position: fixed;
		inset: 0;
		pointer-events: none;
		z-index: 9999;
		opacity: 0.025;
		background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
		background-repeat: repeat;
		mix-blend-mode: overlay;
	}

	::-webkit-scrollbar {
		width: 6px;
		height: 6px;
	}

	::-webkit-scrollbar-track {
		background: hsl(var(--muted));
		border-radius: 3px;
	}

	::-webkit-scrollbar-thumb {
		background: hsl(var(--border));
		border-radius: 3px;
	}

	::-webkit-scrollbar-thumb:hover {
		background: hsl(var(--primary) / 0.5);
	}

	::selection {
		background: hsl(var(--primary) / 0.3);
		color: hsl(var(--foreground));
	}
}

@layer components {
	/* Glassmorphism with warm Mistral tint */
	.glass-card {
		@apply bg-card/80 backdrop-blur-xl border border-border/50;
		box-shadow:
			0 8px 32px 0 rgba(0, 0, 0, 0.37),
			inset 0 1px 0 0 rgba(255, 200, 100, 0.03);
	}

	/* Mistral gradient border */
	.neon-border {
		@apply relative;
	}

	.neon-border::before {
		content: '';
		@apply absolute inset-0 rounded-lg;
		padding: 1px;
		background: linear-gradient(135deg, #E10500, #FA5010, #FF8205, #FFB000, #FFD800);
		-webkit-mask:
			linear-gradient(#fff 0 0) content-box,
			linear-gradient(#fff 0 0);
		-webkit-mask-composite: xor;
		mask-composite: exclude;
		opacity: 0.4;
		transition: opacity 0.3s ease;
	}

	.neon-border:hover::before {
		opacity: 0.8;
	}

	/* Mistral rainbow glow text */
	.text-glow {
		text-shadow: 0 0 10px currentColor, 0 0 20px currentColor;
	}

	.text-glow-blue {
		text-shadow: 0 0 10px #FF8205, 0 0 20px rgba(255, 130, 5, 0.5);
	}

	.text-glow-purple {
		text-shadow: 0 0 10px #FA5010, 0 0 20px rgba(250, 80, 16, 0.5);
	}

	/* Mistral gradient text */
	.text-mistral-gradient {
		background: linear-gradient(90deg, #E10500, #FA5010, #FF8205, #FFB000, #FFD800);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-clip: text;
	}

	/* Retro cyber button with Mistral gradient */
	.cyber-button {
		@apply relative px-6 py-2 font-semibold text-white overflow-hidden;
		background: linear-gradient(135deg, #FA5010 0%, #FF8205 50%, #FFB000 100%);
		clip-path: polygon(10px 0, 100% 0, 100% calc(100% - 10px), calc(100% - 10px) 100%, 0 100%, 0 10px);
		transition: all 0.3s ease;
	}

	.cyber-button:hover {
		box-shadow: 0 0 20px rgba(255, 130, 5, 0.5), 0 0 40px rgba(255, 130, 5, 0.2);
		transform: translateY(-2px);
	}

	.cyber-button::before {
		content: '';
		@apply absolute inset-0;
		background: linear-gradient(135deg, transparent 0%, rgba(255, 255, 255, 0.15) 50%, transparent 100%);
		transform: translateX(-100%);
		transition: transform 0.5s ease;
	}

	.cyber-button:hover::before {
		transform: translateX(100%);
	}

	/* Status indicators */
	.status-indicator {
		@apply w-2 h-2 rounded-full;
	}

	.status-active {
		@apply bg-neon-green;
		box-shadow: 0 0 8px #00ff88;
		animation: pulse-glow 2s ease-in-out infinite;
	}

	.status-warning {
		@apply bg-neon-yellow;
		box-shadow: 0 0 8px #FFB000;
	}

	.status-error {
		@apply bg-neon-red;
		box-shadow: 0 0 8px #E10500;
		animation: pulse-glow 1s ease-in-out infinite;
	}

	.status-inactive {
		@apply bg-muted-foreground/50;
	}

	/* Scan line effect */
	.scan-line {
		@apply absolute inset-0 pointer-events-none overflow-hidden;
	}

	.scan-line::after {
		content: '';
		@apply absolute left-0 right-0 h-px bg-gradient-to-r from-transparent via-primary to-transparent;
		animation: scan-line 3s linear infinite;
	}

	/* Warm Mistral grid background */
	.cyber-bg {
		background-color: hsl(var(--background));
		background-image:
			linear-gradient(rgba(255, 130, 5, 0.02) 1px, transparent 1px),
			linear-gradient(90deg, rgba(255, 130, 5, 0.02) 1px, transparent 1px);
		background-size: 50px 50px;
	}

	/* Module card hover */
	.module-card {
		@apply glass-card rounded-lg p-4 transition-all duration-300;
	}

	.module-card:hover {
		@apply border-primary/50;
		box-shadow: 0 0 30px rgba(255, 130, 5, 0.12);
		transform: translateY(-2px);
	}

	/* Severity badges */
	.severity-low {
		@apply bg-neon-green/20 text-neon-green border border-neon-green/30;
	}

	.severity-medium {
		@apply bg-neon-yellow/20 text-neon-yellow border border-neon-yellow/30;
	}

	.severity-high {
		@apply bg-cyber-orange/20 text-cyber-orange border border-cyber-orange/30;
	}

	.severity-critical {
		@apply bg-neon-red/20 text-neon-red border border-neon-red/30;
	}

	/* Progress ring */
	.progress-ring {
		transform: rotate(-90deg);
	}

	.progress-ring-circle {
		transition: stroke-dashoffset 0.5s ease;
	}

	/* Mistral rainbow animated border */
	.gradient-border {
		@apply relative;
		background: linear-gradient(hsl(var(--card)), hsl(var(--card))) padding-box,
					linear-gradient(135deg, #E10500, #FA5010, #FF8205, #FFB000, #FFD800, #FF8205, #E10500) border-box;
		border: 1px solid transparent;
		background-size: 100% 100%, 300% 300%;
		animation: rainbow-shift 6s linear infinite;
	}

	@keyframes rainbow-shift {
		0% { background-position: 0% 50%, 0% 50%; }
		50% { background-position: 0% 50%, 100% 50%; }
		100% { background-position: 0% 50%, 0% 50%; }
	}

	/* Retro pixel pattern */
	.pixel-pattern {
		background-color: hsl(var(--background));
		background-image:
			radial-gradient(circle, hsl(var(--primary) / 0.03) 1px, transparent 1px);
		background-size: 8px 8px;
	}

	/* Pixel font for retro accents */
	.font-pixel {
		font-family: 'Press Start 2P', monospace;
	}

	/* Pixel border (stepped corners) */
	.pixel-border {
		clip-path: polygon(
			0 4px, 4px 4px, 4px 0,
			calc(100% - 4px) 0, calc(100% - 4px) 4px, 100% 4px,
			100% calc(100% - 4px), calc(100% - 4px) calc(100% - 4px),
			calc(100% - 4px) 100%, 4px 100%, 4px calc(100% - 4px), 0 calc(100% - 4px)
		);
	}

	/* Pixel card with stepped border + glow */
	.pixel-card {
		@apply relative bg-card/80 backdrop-blur-xl;
		clip-path: polygon(
			0 6px, 6px 6px, 6px 0,
			calc(100% - 6px) 0, calc(100% - 6px) 6px, 100% 6px,
			100% calc(100% - 6px), calc(100% - 6px) calc(100% - 6px),
			calc(100% - 6px) 100%, 6px 100%, 6px calc(100% - 6px), 0 calc(100% - 6px)
		);
	}

	.pixel-card::before {
		content: '';
		position: absolute;
		inset: -1px;
		background: linear-gradient(135deg, #E10500, #FA5010, #FF8205, #FFB000, #FFD800);
		clip-path: polygon(
			0 6px, 6px 6px, 6px 0,
			calc(100% - 6px) 0, calc(100% - 6px) 6px, 100% 6px,
			100% calc(100% - 6px), calc(100% - 6px) calc(100% - 6px),
			calc(100% - 6px) 100%, 6px 100%, 6px calc(100% - 6px), 0 calc(100% - 6px)
		);
		z-index: -1;
		opacity: 0.3;
		transition: opacity 0.3s ease;
	}

	.pixel-card:hover::before {
		opacity: 0.7;
	}

	/* CRT scanline overlay for retro screens */
	.crt-overlay {
		position: relative;
	}

	.crt-overlay::after {
		content: '';
		position: absolute;
		inset: 0;
		pointer-events: none;
		background: repeating-linear-gradient(
			0deg,
			rgba(0, 0, 0, 0.05) 0px,
			rgba(0, 0, 0, 0.05) 1px,
			transparent 1px,
			transparent 3px
		);
		z-index: 1;
	}

	/* Pixel-art style divider */
	.pixel-divider {
		height: 4px;
		background: repeating-linear-gradient(
			90deg,
			#E10500 0px, #E10500 4px,
			#FA5010 4px, #FA5010 8px,
			#FF8205 8px, #FF8205 12px,
			#FFB000 12px, #FFB000 16px,
			#FFD800 16px, #FFD800 20px,
			transparent 20px, transparent 24px
		);
		image-rendering: pixelated;
	}

	/* Pixel badge */
	.pixel-badge {
		@apply inline-flex items-center px-3 py-1 text-xs font-bold tracking-wider uppercase;
		font-family: 'Press Start 2P', monospace;
		font-size: 7px;
		clip-path: polygon(
			0 3px, 3px 3px, 3px 0,
			calc(100% - 3px) 0, calc(100% - 3px) 3px, 100% 3px,
			100% calc(100% - 3px), calc(100% - 3px) calc(100% - 3px),
			calc(100% - 3px) 100%, 3px 100%, 3px calc(100% - 3px), 0 calc(100% - 3px)
		);
	}

	/* Mistral hackathon banner */
	.hackathon-banner {
		background: linear-gradient(135deg,
			rgba(225, 5, 0, 0.15) 0%,
			rgba(250, 80, 16, 0.12) 25%,
			rgba(255, 130, 5, 0.1) 50%,
			rgba(255, 176, 0, 0.08) 75%,
			rgba(255, 216, 0, 0.06) 100%
		);
		border: 1px solid rgba(255, 130, 5, 0.25);
		position: relative;
		overflow: hidden;
	}

	.hackathon-banner::before {
		content: '';
		position: absolute;
		top: 0;
		left: -100%;
		width: 200%;
		height: 100%;
		background: linear-gradient(90deg,
			transparent 0%,
			rgba(255, 130, 5, 0.05) 25%,
			rgba(255, 176, 0, 0.08) 50%,
			rgba(255, 130, 5, 0.05) 75%,
			transparent 100%
		);
		animation: shimmer 4s ease-in-out infinite;
	}

	@keyframes shimmer {
		0% { transform: translateX(-50%); }
		100% { transform: translateX(50%); }
	}
}

@layer utilities {
	.animate-in {
		animation: fade-in 0.3s ease-out;
	}

	.slide-in-left {
		animation: slide-in 0.3s ease-out;
	}

	.truncate-2 {
		display: -webkit-box;
		-webkit-line-clamp: 2;
		-webkit-box-orient: vertical;
		overflow: hidden;
	}

	.no-select {
		user-select: none;
		-webkit-user-select: none;
	}
}

@keyframes pulse-glow {
	0%, 100% {
		box-shadow: 0 0 5px currentColor, 0 0 10px rgba(255, 130, 5, 0.3);
	}
	50% {
		box-shadow: 0 0 10px currentColor, 0 0 30px rgba(255, 130, 5, 0.5);
	}
}

@keyframes scan-line {
	0% { transform: translateY(-100%); }
	100% { transform: translateY(100%); }
}

@keyframes slide-in {
	from { transform: translateX(-10px); opacity: 0; }
	to { transform: translateX(0); opacity: 1; }
}

@keyframes fade-in {
	from { opacity: 0; }
	to { opacity: 1; }
}
